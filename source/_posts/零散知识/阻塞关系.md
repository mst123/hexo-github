---
title: 阻塞关系
categories: 
  - 零散知识
tags: 
  - 阻塞关系
---
## css和js文件对html的阻塞

- `CSS` 不会阻塞 `DOM` 的解析，~~但会阻塞 `DOM` 渲染~~实测并不会阻塞（92版本）。

- 在js前的css会阻塞js的解析（不会阻止下载），继而阻止dom的解析和渲染
- `JS` 阻塞 `DOM` 解析，但浏览器会"偷看"`DOM`，预先下载相关资源。

```
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	
	<style>
		div {
			width: 100px;
			height: 100px;
			background: green;
			border: 2px solid red;
		}
	</style>
	<link rel="stylesheet" href="/css/sleep3000-common.css">
	<script src="/js/logDiv.js"></script>
</head>
<body>
	<div></div>
</body>
</html>
// 页面空白较长时间(3s以上)，js执行并打印出null，页面直接加载出common.css样式的dom
// 结论 在js前的css会阻塞js的解析（不会阻止下载），继而阻止dom的解析和渲染
```

```
<style>
		div {
			width: 100px;
			height: 100px;
			background: green;
			border: 2px solid red;
		}
	</style>
	<link rel="stylesheet" href="/css/sleep3000-common.css">
	// 页面先加载出绿色的背景，等待css下载完后，展示蓝色
	// 结论 CSS不会阻塞 DOM的解析，也不会阻塞DOM渲染（92版本）
```

